<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>nikki.</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #ffe6f0;
    text-align: center;
}

.page {
    display: none;
    padding: 30px;
}

.active {
    display: block;
}

button {
    padding: 12px 20px;
    margin-top: 20px;
    border: none;
    border-radius: 20px;
    background: #ff4d88;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

button:hover {
    background: #ff1a66;
}

.envelope {
    width: 150px;
    position: relative;
    cursor: pointer;
    transition: all 0.4s ease;
}

@media (min-width: 768px) {
    .envelope {
        width: 200px;
    }
}

#hintText {
    font-size: 14px;
    color: #555;
}

.envelope:hover {
    transform: scale(1.1);
}

.letter {
    display: none;
    background: white;
    padding: 20px;
    margin: 20px auto;
    width: 80%;
    max-width: 400px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
    text-align: left;
}

.letter button {
    display: block;
    margin: 20px auto 0 auto;
}

.photo {
    width: 250px;
    border-radius: 10px;
    margin-top: 20px;
}

#letterText {
    font-family: "Courier New", monospace;
    white-space: pre-wrap;
    line-height: 1.6;
}
    
</style>
</head>

<body>

<!-- PG1 -->
<div id="page1" class="page active">
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <h2>hi, my Dianne Nicole ðŸ’–</h2>

    <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ3YxanZ4OHFnODlsbXhtcjk4eWc0eG9neXp6eWhuNXhtdmt6ZmduaiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/4rONkkYKUUDe0/giphy.gif" width="250">

    <br>
    <button onclick="goToPage2()">Open</button>
</div>


<!-- PG2 -->
<div id="page2" class="page">
    <h2>what's inside?</h2>

    <img id="envelope" class="envelope"src="https://cdn-icons-png.flaticon.com/512/561/561127.png"onclick="tryOpenEnvelope()">

    <p id="hintText">hulihin mo nga ?!?!</p>


    <div id="letter" class="letter">
        <p id="letterText"></p>

    <button id="doneBtn" onclick="finishReading()" style="display:none;">Done Reading</button>
    </div>
</div>


<!-- FPG -->
<div id="page3" class="page final">
    <h2>happy valentine's day, my sweet girl!</h2>
    <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMjdiYnJsZnNyaWpxZm0xZng1dGJ3bmVwMjMyN2NzdzQwdzYzY3E4dyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/2NXRTP0euUQ5q/giphy.gif" width="600">
</div> 


<script>
    let moveCount = 0;
    let maxMoves = 5;
    let canOpen = false;

function goToPage2() {
    document.getElementById("page1").classList.remove("active");
    document.getElementById("page2").classList.add("active");
}

function tryOpenEnvelope() {
    if (canOpen) {
        openLetter();
        return;
    }

    moveEnvelope();
}

function moveEnvelope() {
    moveCount++;

    let envelope = document.getElementById("envelope");

    let maxX = window.innerWidth - 180;
    let maxY = window.innerHeight - 250;

    let randomX = Math.random() * maxX;
    let randomY = Math.random() * maxY;

    envelope.style.position = "absolute";
    envelope.style.left = randomX + "px";
    envelope.style.top = randomY + "px";

    if (moveCount >= maxMoves) {
        stopMoving();
    }
}

function stopMoving() {
    canOpen = true;

    let envelope = document.getElementById("envelope");
    let hint = document.getElementById("hintText");

    envelope.style.position = "relative";
    envelope.style.left = "0px";
    envelope.style.top = "0px";

    hint.innerHTML = "awiiiiiiiiit nahuli na ni boss!";
}

function openLetter() {
    document.getElementById("letter").style.display = "block";

    let text = `hey baby,

our hardships have only drawn us closer, shaping us into something stronger and more unbreakable. every challenge we've faced has deepened my love for you. 
even in the moments when things felt heavy, you never left my side. 

you are my home and my comfort, nikki. 

i look forward to all the days we'll continue growing together. until then, hold me close to your heart, as i hold you in mine. 

i love you, and i love doing life with you.  ðŸ’–`;

    let i = 0;
    let speed = 40;

    function typeWriter() {
        if (i < text.length) {
            document.getElementById("letterText").innerHTML +=
                text.charAt(i) === "\n" ? "<br>" : text.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        } else {
            document.getElementById("doneBtn").style.display = "block";
        }
    }

    document.getElementById("letterText").innerHTML = "";
    typeWriter();
}

function finishReading() {
    document.getElementById("page2").classList.remove("active");
    document.getElementById("page3").classList.add("active");
}
</script>

</body>
</html>